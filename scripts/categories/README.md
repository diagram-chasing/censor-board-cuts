# CBFC Film Scraper

A Python script to fetch film data from the Central Board of Film Certification (CBFC) India website.

## Overview

This script fetches film data from the CBFC website by:
1. Visiting the search page to obtain cookies
2. Downloading and solving the CAPTCHA using Tesseract OCR
3. Submitting search requests for films starting with each letter (A-Z)
4. Saving the results in separate HTML files

## Requirements

- Python 3.6+
- Tesseract OCR
- Python libraries: requests, beautifulsoup4, pytesseract, pillow

## Installation

1. Install Tesseract OCR:
   - macOS: `brew install tesseract`
   - Ubuntu/Debian: `sudo apt-get install tesseract-ocr`
   - Windows: Download and install from [GitHub](https://github.com/UB-Mannheim/tesseract/wiki)

2. Install required Python packages:
   ```bash
   pip install requests beautifulsoup4 pytesseract pillow
   ```

## Usage

### Basic Usage

Run the script with default settings (searches for all characters A-Z):
```bash
python fetch.py
```

### Command-line Arguments

The script supports the following command-line arguments:

- `--characters` or `-c`: Specify which characters to search for
  - Range format: `A-Z`, `A-G`, etc.
  - List format: `A,B,C`
  - Single character: `A`
  - Default: `A-Z`

- `--output-dir` or `-o`: Directory to save results
  - Default: `cbfc_results`

- `--delay-min`: Minimum delay between requests in seconds
  - Default: 5

- `--delay-max`: Maximum delay between requests in seconds
  - Default: 8

- `--debug`: Enable debug mode (saves processed captcha images)

### Examples

1. Search for movies starting with 'A' only:
   ```bash
   python fetch.py -c A
   ```

2. Search for movies starting with A, B, or C:
   ```bash
   python fetch.py -c A,B,C
   ```

3. Search for movies starting with letters A through M:
   ```bash
   python fetch.py -c A-M
   ```

4. Customize output directory and delay:
   ```bash
   python fetch.py --output-dir my_results --delay-min 10 --delay-max 15
   ```

5. Enable debug mode to save processed captcha images:
   ```bash
   python fetch.py --debug
   ```

## Output

The script will:
- Create an output directory (default: `cbfc_results`) to store results
- Generate a log file `cbfc_scraper.log` with detailed information
- Process the specified characters with delays between requests
- Save search results as HTML files named by letter (e.g., A.html, B.html, etc.)

If debug mode is enabled, it will also save the processed captcha images in a `debug` subdirectory.

## Notes

- The script includes randomized delays between requests to avoid overloading the server or triggering anti-scraping measures
- CAPTCHA recognition might not be 100% accurate, but the script attempts multiple retries
- The script uses image preprocessing to improve CAPTCHA recognition accuracy

## Legal Disclaimer

This script is intended for educational and personal use only. Ensure that you comply with CBFC's terms of service and robots.txt policies before running automated scripts on their website. 

## AI Disclaimer

This code was mostly generated by Claude, using Cursor.
